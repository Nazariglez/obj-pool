!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ObjPool=e():t.ObjPool=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(module,exports){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _newObj(obj,args){for(var ev="Function('obj',",fn='"return new obj(',i=0;i<args.length;i++)ev+="'a"+i+"',",fn+="a"+i,i!==args.length-1&&(fn+=",");return fn+=')"',ev+=fn+")",eval(ev).apply(this,[obj].concat(args))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),ObjPool=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{amout:1,args:[]}:arguments[1];_classCallCheck(this,t),this.ctor=e,this._objects=[],this.args=n.args||[],this._amount=n.amount||1,this.objInit="init",this.objReset="reset",this.generate(n.amount||1)}return _createClass(t,[{key:"_createObj",value:function(){var t=void 0;if(0===this.args.length)t=new this.ctor;else try{t=new(Function.prototype.bind.apply(this.ctor,[null].concat(this.args)))}catch(e){t=_newObj(this.ctor,this.args)}return t}},{key:"alloc",value:function(){0===this._objects.length&&this.generate(this._amount);var t=this._objects.pop();return t[this.objInit]&&t[this.objInit](),t}},{key:"free",value:function(t){t[this.objReset]&&t[this.objReset](),this._objects.unshift(t)}},{key:"clear",value:function(){this._objects.length=0}},{key:"generate",value:function(t){for(var e=0;t>e;e++)this._objects.push(this._createObj())}},{key:"length",get:function(){return this._objects.length}}]),t}();exports["default"]=ObjPool}])});
//# sourceMappingURL=obj-pool.js.map